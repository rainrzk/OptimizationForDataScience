\documentclass[11pt]{article}

% ---------- PAGE & TYPO ----------
\usepackage[margin=1in]{geometry}
\usepackage{microtype}
\usepackage{enumitem}
\usepackage{titlesec}
\usepackage{setspace}

% ---------- MATH ----------
\usepackage{amsmath, amssymb, amsthm, bm, mathtools, mathrsfs, extarrows}

% ---------- COLORS & GRAPHICS ----------
\usepackage{xcolor}
\usepackage{tikz}
\usepackage{graphicx}
\usetikzlibrary{arrows.meta,calc,positioning,shapes,decorations.pathreplacing}

% ---------- TABLES ----------
\usepackage{booktabs}
\usepackage{multirow}

% ---------- LINKS & CAPTIONS ----------
\usepackage{hyperref}
\usepackage{caption}
\hypersetup{colorlinks=true, linkcolor=black, urlcolor=blue, citecolor=blue}

% ---------- HEADER & FOOTER ----------
\usepackage{fancyhdr}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{lastpage}
\renewcommand{\sectionmark}[1]{\markright{#1}}
\renewcommand{\subsectionmark}[1]{}
\renewcommand{\subsubsectionmark}[1]{}

\pagestyle{fancy}
\fancyhf{}
\setlength{\headheight}{24pt}

\definecolor{uwgray}{RGB}{90,90,90}
\definecolor{uwline}{RGB}{200,200,200}

\fancyhead[L]{%
  \begin{tabular}{@{}l@{}}
    {\bfseries\large{CO~673 / CS~794}}\\[-0.25em]
    {\textcolor{uwgray}{\footnotesize \textsc{University of Waterloo}}}
  \end{tabular}
}

\fancyhead[C]{%
  \begin{tabular}{@{}c@{}}
    {\bfseries\Large{Optimization for Data Science}}\\[-0.25em]
    {\textcolor{uwgray}{\footnotesize \textsc{Y.~Zhu~(after S.~A.~Vavasis,~Fall 2025)}}}
  \end{tabular}
}

\fancyhead[R]{%
  \begin{tabular}{@{}r@{}}
    {\bfseries\large{\rightmark}}\\[-0.25em]
    {\textcolor{uwgray}{\footnotesize \textsc{\thepage\ /\ \pageref{LastPage}}}}
  \end{tabular}
}

\fancyfoot{}

\renewcommand{\headrulewidth}{0.6pt}
\makeatletter
\renewcommand{\headrule}{%
  \hbox to\headwidth{\color{uwline}\leaders\hrule height \headrulewidth\hfill}%
}
\makeatother
\renewcommand{\footrulewidth}{0pt}

% ---------- GLOBAL SPACING ----------
\setlength{\parskip}{0.6em}
\setlength{\parindent}{0pt}
\setlist[itemize]{itemsep=0.2em, topsep=0.2em}
\setlist[enumerate]{itemsep=0.2em, topsep=0.2em, label=(\roman*)}
\numberwithin{equation}{section}

% ---------- SECTION STYLE & COLORS ----------
\definecolor{Primary}{RGB}{33,102,172}
\definecolor{Accent}{RGB}{231,76,60}
\definecolor{ProofGreen}{RGB}{46,204,113}
\definecolor{ClaimOrange}{RGB}{243,156,18}
\definecolor{NoteGray}{RGB}{90,90,90}
\definecolor{SoftBG}{RGB}{248,249,250}
\definecolor{FactBlue}{RGB}{52,152,219}
\definecolor{ObserveTeal}{RGB}{22,160,133}
\definecolor{ExamplePurple}{RGB}{142,68,173}

\titleformat{\section}
  {\centering\scshape\LARGE}
  {}
  {0pt}
  {}   
\captionsetup{labelfont=bf}

% ---------- HANDY RULES & OPERATORS ----------
\newcommand{\separator}{\vspace{0.25em}\hrule\color{Primary}\vspace{0.25em}\color{black}}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

% ---------- SHORTCUTS ----------
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\Pbb}{\mathbb{P}}
\newcommand{\1}{\mathbb{1}}
\newcommand{\Var}{\mathrm{Var}}
\newcommand{\Cov}{\mathrm{Cov}}
\newcommand{\dd}{\,\mathrm{d}}
\newcommand{\given}{\,\middle|\,}
\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\inner}[2]{\left\langle #1,\,#2\right\rangle}
\newcommand{\defeq}{\vcentcolon=}
\newcommand{\eqdef}{=\vcentcolon}
\newcommand{\transpose}{^{\mathsf{T}}}
\renewcommand{\qedsymbol}{$\blacksquare$}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\spann}{span}
\DeclareMathOperator{\interior}{int}
\DeclareMathOperator{\intdom}{intdom}
\newcommand{\Sbb}{\mathbb{S}}
\newcommand{\Spp}{\mathbb{S}^n_{+}}
\newcommand{\I}{\bm I}
\newcommand{\0}{\bm 0}
\newcommand{\Bbar}{\overline{\mathrm{B}}}

% ---------- COLOR BOXES ----------
\usepackage[most]{tcolorbox}

\tcbset{
  mybox/.style={
    enhanced,
    breakable,
    boxrule=0.6pt,
    arc=1.2mm,
    left=8pt,
    right=8pt,
    top=6pt,
    bottom=6pt,
    colback=white,
    before skip=8pt,
    after skip=8pt
  }
}

% Theorem box
\newtcolorbox{theorembox}[1][]{
  mybox,
  colback=Primary!3,
  colframe=Primary,
  borderline west={3pt}{0pt}{Primary},
  fonttitle=\bfseries,
  title={Theorem},
  #1
}

% Proof box
\newtcolorbox{proofbox}[1][]{
  mybox,
  colback=ProofGreen!4,
  colframe=ProofGreen!80!black,
  borderline west={3pt}{0pt}{ProofGreen!80!black},
  fonttitle=\bfseries,
  title={Proof},
  #1
}

% Claim box
\newtcolorbox{claimbox}[1][]{
  mybox,
  colback=ClaimOrange!6,
  colframe=ClaimOrange!85!black,
  borderline west={3pt}{0pt}{ClaimOrange!85!black},
  fonttitle=\bfseries,
  title={Claim},
  #1
}

% Fact box
\newtcolorbox{factbox}[1][]{
  mybox,
  colback=FactBlue!5,
  colframe=FactBlue!80!black,
  borderline west={3pt}{0pt}{FactBlue!80!black},
  fonttitle=\bfseries,
  title={Fact},
  #1
}

% Example box
\newtcolorbox{examplebox}[1][]{
  mybox,
  colback=ExamplePurple!6,
  colframe=ExamplePurple!80!black,
  borderline west={3pt}{0pt}{ExamplePurple!80!black},
  fonttitle=\bfseries,
  title={Example},
  #1
}

\begin{document}

\include{src/lec1}

\include{src/lec2}

\include{src/lec3}

\include{src/lec4}

\include{src/lec5}

\include{src/lec6}

\include{src/lec7}

\include{src/lec8}

\include{src/lec9}

\include{src/lec10}

\include{src/lec11}

\include{src/lec12}

\include{src/lec13}

\include{src/lec14}

\include{src/lec15}

\include{src/lec16}

\include{src/lec17}

\include{src/lec18}

\include{src/lec19}

\include{src/lec20}

\include{src/lec21}

\include{src/lec22}

\include{src/lec23}

\include{src/lec24}

\end{document}
